# GUI功能日志

## 版本: 2.0
更新日期：2026-01-31
作者: 赖小戴

### 概述
本版本对 GUI 选项进行了精简与重构，重点适配 GPT 公式反斜杠缺失问题，并优化复选框布局与输入触发逻辑。

### 主要改动
- **新增修复类选项（默认开启）**：
  - GPT缺失斜杠：将独立行的 `[ ... ]` 识别为 `\[ ... \]`
  - GPT缺失斜杠：将疑似数学 `( ... )` 识别为 `\( ... \)`（保守）
- **新增激进策略选项**：
  - 【激进】将 `(n)/(a)/(x)/(F')/(f(x))` 等识别为 `\( ... \)`（可能误伤普通括号）
- **选项精简**：
  - 移除所有与 Markdown 相关的选项
  - 移除 `\item` 规范化、`equation` 内嵌 `aligned` 提升、去掉 `*` 标签、Zulip 适配、`some_small_utilities`、演示功能等
- **默认选项调整**：
  - “\( ... \) → $ ... $（适合 ChatGPT）”与“`\[ ... \]` → `$$ ... $$`（适合 ChatGPT）”默认开启
- **布局与可用性优化**：
  - 两列复选框间距与对齐优化，视觉更均衡
  - 进入界面时自动调整复选框区域高度，避免最后一行被滚动遮挡
  - 输入框修改触发更新更稳定（键入/粘贴均可及时刷新）

## 版本: 1.4
更新日期：2026-01-31
作者: 赖小戴

### 概述
LatexFormatting 是一个用于格式化LaTeX和Markdown文件的实用工具，具有丰富的GUI功能。此日志记录了该工具在版本1.4中的所有GUI功能。

### 主窗口
- **标题**: 显示应用程序名称和版本信息。
- **图标**: 使用自定义图标 (`icon.ico`)。

### 菜单和按钮
- **批量修改文件或文件夹菜单**:
  - **选择md或tex文件并修改**: 打开文件选择对话框，选择并修改选中的文件。
  - **选择文件夹并修改所有md和tex文件**: 打开文件夹选择对话框，选择并修改文件夹中的所有文件。

- **状态选择下拉菜单**: 显示所有保存的状态，允许用户选择并加载状态。

- **保存状态按钮**: 打开弹出窗口，输入状态名称并保存当前复选框状态。

- **关于按钮**: 显示关于信息的对话框，包含工具的基本信息和作者联系信息。

### 文本框和容器
- **左侧文本框**: 输入原始内容（如GPT的回答）。
- **右侧文本框**: 显示修改后的内容。

### 复选框和选项
提供以下选项以格式化LaTeX和Markdown文件：
1. 在中日韩字符和英文或数字之间添加空格
2. 将多行空行变成单行空行
3. 行内公式：规范 `$ ... $` 环境
4. 行内公式：规范 `\( ... \)`环境
5. 行内公式：替换 `\( ... \)` 为 `$ ... $` 环境【适合ChatGPT的回答】
6. 行间公式：规范 `equation` 环境
7. 行间公式：规范 `$$ ... $$` 环境
8. 行间公式：规范 `\[ ... \]` 环境
9. 行间公式：替换 `\[ ... \]` 为 `$$ ... $$` 环境【适合ChatGPT的回答】
10. 行间公式：替换 equation 为 `$$ ... $$` 环境
11. 行间公式：替换 `\[ ... \]` 为 `equation` 环境
12. 行间公式：替换 `$$ ... $$` 为 `equation` 环境
13. 将内嵌在 `equation` 中的 `aligned` 环境变成单独的 `align` 环境
14. 去掉 `align` 和 `equation` 环境中用于不显示tag的 * 号
15. 规范 `\item` 格式
16. 规范化各级标题
17. 将 Markdown 的标题等变成 latex 对应物
18. 将 Markdown 的 `**` 包围变成 `\textbf` 环境
19. 将 Markdown 的 `*` 包围变成 `\textit` 环境
20. 去掉所有Markdown特征
21. 规范 `align` 环境
22. some_small_utilities
23. 替换 `equation` 为 `equation* `环境，如果没有 label
24. 让行间，行内公式符合 zulip 语法

### 其他功能
- **自动复制**: 修改后的内容自动复制到剪贴板。
- **复制按钮**: 将输出文本框中的内容复制到剪贴板。
- **清空按钮**: 清空输入和输出文本框的内容。
- **输入文本框修改监听**: 检测输入文本框的修改，并触发更新输出文本框的内容。

### 状态管理
- **保存复选框状态**: 保存当前复选框状态到文件。
- **加载复选框状态**: 从文件加载复选框状态。
- **更新状态菜单**: 更新下拉菜单，显示所有保存的状态。
- **检查状态匹配**: 检查当前复选框状态是否匹配任何已保存的状态。

### 窗口关闭事件
- **保存状态**: 在窗口关闭时保存当前复选框状态。
